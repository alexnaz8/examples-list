<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158712122-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-158712122-1');
        </script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Demos</title>
        <link
            href="https://fonts.googleapis.com/css?family=Uncial+Antiqua&display=swap"
            rel="stylesheet"
        />
        <style>
            body,
            html {
                height: 100%;
            }
            body {
                margin: 0;
                font-family: "Uncial Antiqua";
            }
            body,
            body * {
                overflow: hidden;
            }
            button {
                border-radius: 5px;
                font-family: "Uncial Antiqua";
                opacity: 0.5;
                outline: none;
            }
            button:hover{
                cursor: pointer;
            }
            .conteiner {
                background-color: #ccc;
                height: 100%;
                width: 100%;
            }
            .content {
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
            }
            header {
                color: #f3f3f3;
                text-align: center;
            }
            header h1 {
                margin-bottom: 0px;
            }
            .links-box {
                position: relative;
                display: flex;
                flex: 1;
                flex-direction: column;
                justify-content: space-evenly;
                align-items: center;
            }
            .link {
                height: 1.5rem;
                width: 1.5rem;
                text-align: center;
                text-transform: uppercase;
                border-radius: 79px;
                background: #ecf0f3;
                box-shadow: inset 4px 4px 8px #aaadaf,
                    inset -4px -4px 8px #ffffff;
                transition: all 0.7s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }
            .link:hover {
                height: 7rem;
                width: 7rem;
                border-radius: 5px;
                cursor: pointer;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .link a {
                opacity: 0;
                text-decoration: none;
                color: #868383;
                transition: all 1s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }
            .link:hover a {
                opacity: 1;
            }

            .lotr .conteiner {
                height: 100%;
                width: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .lotr .background {
                height: 98%;
                width: 98%;
                background: rgb(47, 31, 29);
                background: linear-gradient(
                    0deg,
                    rgba(47, 31, 29, 1) 0%,
                    rgba(124, 76, 39, 1) 100%
                );
                background: url("https://www.hdwallpaper.nu/wp-content/uploads/2015/04/middle-earth-the-lord-of-the-rings-digital-art-hd-wallpaper-1920x1200-8396.jpg");
                background-position: center;
                background-size: cover;
                filter: blur(4px);
                -webkit-filter: blur(4px);
            }
            .lotr .content {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
            .lotr header {
                color: #f3f3f3;
                text-align: center;
            }
            .lotr .link {
                text-align: center;
                text-transform: uppercase;
                height: auto;
                width: 350px;
                max-width: 350px;
                padding: 10px 10px;
                margin: 10px auto;
                border: 1px #ccc solid;
                border-radius: 5px;
                background: rgb(78, 44, 32);
                opacity: 0.8;
                box-shadow: none;
                transition: none;
            }
            .lotr .link a {
                text-decoration: none;
                color: #f9e370;
                opacity: 1;
            }
            .lotr .link:hover {
                opacity: 0.9;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="conteiner">
            <div class="background"></div>
            <div class="content">
                <header>
                    <h1>Some Demos</h1>
                    <button>click me</button>
                </header>
                <div class="links-box">
                    <div class="link">
                        <a href="./html_first_murkup/index.html">Just MarkUp</a>
                    </div>
                    <div class="link">
                        <a href="./html_second_murkup/index.html"
                            >More interesting MarkUp</a
                        >
                    </div>
                    <div class="link">
                        <a href="https://alexnaz8.github.io/fun-monster-test/"
                            >Just React Fun</a
                        >
                    </div>
                    <div class="link">
                        <a
                            href="https://alexnaz8.github.io/monobank-exchange-demo/"
                            >MonoBank exchange rate</a
                        >
                    </div>
                    <div class="link">
                        <a href="https://alexnaz8.github.io/firebase-saga-auth/"
                            >Firestore Form with Auth</a
                        >
                    </div>
                </div>
            </div>
        </div>
        <script>
            let theme = "lotr";
            document.body.classList.add("lotr");
            const btn = document.querySelector("button");
            btn.addEventListener("click", () => {
                if (theme !== "lotr") {
                    theme = "lotr";
                    document.body.classList.add("lotr");
                } else {
                    theme = "animated";
                    document.body.classList.remove("lotr");
                    animatedTheme();
                }
            });

            const animatedTheme = () => {
                const header = document.querySelector("header");
                const linksBox = document.querySelector(".links-box");
                const links = document.querySelectorAll(".link");
                let startAnimation = 0;
                let animate = true;
                const setItemsMiddle = () => {
                    animate = false;
                    const partOfHeight = Math.floor(
                        (100 * (linksBox.offsetHeight / (links.length + 1))) /
                            linksBox.offsetHeight
                    );
                    links.forEach((linkItem, index) =>
                        linkItem.setAttribute(
                            "style",
                            `position:absolute;
                        top:${partOfHeight * (index + 1)}%;
                        left:${Math.floor(linksBox.offsetWidth / 2)}px;
                        transform:translate(-50%,-50%);`
                        )
                    );
                };
                const setAbsoluteStyle = () => {
                    const top = Math.floor(
                        Math.random() * (linksBox.offsetHeight + 1)
                    );
                    const left = Math.floor(
                        Math.random() * (linksBox.offsetWidth + 1)
                    );
                    return `position:absolute; top:${top}px; left:${left}px; transition:all 4s cubic-bezier(0.91, 0.29, 0.13, 1.26)`;
                };
                const animateItems = timestamp => {
                    if (theme === "lotr") setItemsMiddle();
                    if (!animate) return;
                    if (!startAnimation) start = timestamp;
                    if (timestamp - startAnimation > 1000) {
                        links.forEach(linkItem =>
                            linkItem.setAttribute("style", setAbsoluteStyle())
                        );
                        startAnimation = timestamp;
                    }
                    window.requestAnimationFrame(animateItems);
                };

                linksBox.addEventListener("mouseenter", setItemsMiddle);
                linksBox.addEventListener("mouseleave", () => {
                    animate = true;
                    window.requestAnimationFrame(animateItems);
                });
                links.forEach(linkItem =>
                    linkItem.setAttribute("style", setAbsoluteStyle())
                );

                if (animate) {
                    window.requestAnimationFrame(animateItems);
                }
            };
        </script>
    </body>
</html>
